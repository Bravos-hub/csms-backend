PORT=3000
NODE_ENV=production

# Database
DATABASE_URL=postgresql://user:password@db-host:5432/evzone
DATABASE_TLS=true
DATABASE_TLS_REJECT_UNAUTHORIZED=true
# DATABASE_TLS_CA_PATH=/app/certs/db-ca.pem

# Kafka
KAFKA_BROKERS=kafka:9092
KAFKA_EVENTS_ENABLED=true
KAFKA_EVENT_CLIENT_ID=evzone-backend-api
KAFKA_EVENT_GROUP_ID=evzone-backend-api-events
KAFKA_CLIENT_ID=evzone-worker
KAFKA_SSL=false
KAFKA_SSL_REJECT_UNAUTHORIZED=true
# KAFKA_SSL_CA_PATH=/app/certs/kafka-ca.pem
# KAFKA_SASL_MECHANISM=plain
# KAFKA_SASL_USERNAME=username
# KAFKA_SASL_PASSWORD=password
KAFKA_TOPIC_COMMAND_REQUESTS=cpms.command.requests
KAFKA_TOPIC_COMMAND_EVENTS=ocpp.command.events
KAFKA_TOPIC_COMMAND_DEAD_LETTERS=cpms.command.dead_letters
KAFKA_TOPIC_STATION_EVENTS=ocpp.station.events
KAFKA_TOPIC_SESSION_EVENTS=ocpp.session.events
KAFKA_TOPIC_AUDIT_EVENTS=cpms.audit.events
KAFKA_TOPIC_LEGACY_STATION_EVENTS=ocpp.events

# Redis
REDIS_URL=redis://redis:6379
REDIS_TLS=false
REDIS_TLS_REJECT_UNAUTHORIZED=true
# REDIS_TLS_CA_PATH=/app/certs/redis-ca.pem

# Worker
WORKER_PORT=3010
WORKER_COMMAND_EVENTS_ENABLED=true
WORKER_COMMAND_EVENT_GROUP_ID=evzone-worker-command-events
OUTBOX_ENABLED=true
OUTBOX_INTERVAL_MS=2000
OUTBOX_BATCH_SIZE=50
OUTBOX_LOCK_TTL_MS=60000
OUTBOX_RETRY_BACKOFF_MS=5000
OUTBOX_MAX_ATTEMPTS=5

# OCPP provisioning response
OCPP_PUBLIC_WS_BASE_URL=wss://ocpp.evzonecharging.com
